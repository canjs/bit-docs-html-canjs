!function(a){"undefined"==typeof process&&(a.process={argv:[],cwd:function(){return""},browser:!0,env:{NODE_ENV:"development"},version:"",platform:a.navigator&&a.navigator.userAgent&&/Windows/.test(a.navigator.userAgent)?"win":""})}("object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window),!function(b,g,a){var e=g.define,h=function(a){var b,c=a.split("."),d=g;for(b=0;b<c.length&&d;b++)d=d[c[b]];return d},j=g.define&&g.define.modules||g._define&&g._define.modules||{},k=g.define=function(f,l,m){var n;"function"==typeof l&&(m=l,l=[]);var o,p=[];for(o=0;o<l.length;o++)p.push(b[l[o]]?h(b[l[o]]):j[l[o]]||h(l[o]));(function(a){return"require"===a[0]&&"exports"===a[1]&&"module"===a[2]})(l)||!l.length&&m.length?(n={exports:{}},p[0]=function(a){return b[a]?h(b[a]):j[a]},p[1]=n.exports,p[2]=n):p[0]||"exports"!==l[0]?p[0]||"module"!==l[0]||(p[0]={id:f}):(n={exports:{}},p[0]=n.exports,"module"===l[1]&&(p[1]=n)),g.define=e;var d=m?m.apply(null,p):void 0;g.define=k,d=n&&n.exports?n.exports:d,j[f]=d;var q=b[f];q&&!h(q)&&(function(a){if(!a||!a.__esModule)return!1;var b={__esModule:!0,default:!0};for(var c in a)if(!b[c])return!1;return!0}(d)&&(d=d.default),function(a,b){var c,d,e,h=a.split("."),f=g;for(c=0;c<h.length-1;c++)(e=f[d=h[c]])||(e=f[d]={}),f=e;f[d=h[h.length-1]]=b}(q,d))};g.define.orig=e,g.define.modules=j,g.define.amd=!0,k("@loader",[],function(){var b=function(){};return{get:function(){return{prepareGlobal:b,retrieveGlobal:b}},global:g,__exec:function(b){a(b.source,g)}}})}({},"object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window,function(__$source__,__$global__){eval("(function() { "+__$source__+" \n }).call(__$global__);")});(function(){var a=function(b){var c=new a.Builder;return c.pipeline.add(a.trimmer,a.stopWordFilter,a.stemmer),c.searchPipeline.add(a.stemmer),b.call(c,c),c.build()};a.version="2.1.0",a.utils={},a.utils.warn=function(a){return function(b){a.console&&console.warn&&console.warn(b)}}(this),a.utils.asString=function(a){return void 0===a||null===a?"":a.toString()},a.FieldRef=function(b,c){this.docRef=b,this.fieldName=c,this._stringValue=c+a.FieldRef.joiner+b},a.FieldRef.joiner="/",a.FieldRef.fromString=function(b){var c=b.indexOf(a.FieldRef.joiner);if(-1===c)throw"malformed field ref string";var d=b.slice(0,c),e=b.slice(c+1);return new a.FieldRef(e,d)},a.FieldRef.prototype.toString=function(){return this._stringValue},a.idf=function(a,b){var c=0;for(var d in a)"_index"!=d&&(c+=Object.keys(a[d]).length);var e=(b-c+.5)/(c+.5);return Math.log(1+Math.abs(e))},a.Token=function(a,b){this.str=a||"",this.metadata=b||{}},a.Token.prototype.toString=function(){return this.str},a.Token.prototype.update=function(a){return this.str=a(this.str,this.metadata),this},a.Token.prototype.clone=function(b){return b=b||function(a){return a},new a.Token(b(this.str,this.metadata),this.metadata)},a.tokenizer=function(b){if(null==b||b==null)return[];if(Array.isArray(b))return b.map(function(b){return new a.Token(a.utils.asString(b).toLowerCase())});for(var c=b.toString().trim().toLowerCase(),d=c.length,e=[],f=0,g=0;f<=d;f++){var h=c.charAt(f),i=f-g;(h.match(a.tokenizer.separator)||f==d)&&(0<i&&e.push(new a.Token(c.slice(g,f),{position:[g,i],index:e.length})),g=f+1)}return e},a.tokenizer.separator=/[\s\-]+/,a.Pipeline=function(){this._stack=[]},a.Pipeline.registeredFunctions=Object.create(null),a.Pipeline.registerFunction=function(b,c){c in this.registeredFunctions&&a.utils.warn("Overwriting existing registered function: "+c),b.label=c,a.Pipeline.registeredFunctions[b.label]=b},a.Pipeline.warnIfFunctionNotRegistered=function(b){var c=b.label&&b.label in this.registeredFunctions;c||a.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",b)},a.Pipeline.load=function(b){var c=new a.Pipeline;return b.forEach(function(b){var d=a.Pipeline.registeredFunctions[b];if(d)c.add(d);else throw new Error("Cannot load unregistered function: "+b)}),c},a.Pipeline.prototype.add=function(){var b=Array.prototype.slice.call(arguments);b.forEach(function(b){a.Pipeline.warnIfFunctionNotRegistered(b),this._stack.push(b)},this)},a.Pipeline.prototype.after=function(b,c){a.Pipeline.warnIfFunctionNotRegistered(c);var d=this._stack.indexOf(b);if(-1==d)throw new Error("Cannot find existingFn");++d,this._stack.splice(d,0,c)},a.Pipeline.prototype.before=function(b,c){a.Pipeline.warnIfFunctionNotRegistered(c);var d=this._stack.indexOf(b);if(-1==d)throw new Error("Cannot find existingFn");this._stack.splice(d,0,c)},a.Pipeline.prototype.remove=function(a){var b=this._stack.indexOf(a);-1==b||this._stack.splice(b,1)},a.Pipeline.prototype.run=function(a){for(var b,c=this._stack.length,d=0;d<c;d++)b=this._stack[d],a=a.reduce(function(c,d,e){var f=b(d,e,a);return void 0===f||""===f?c:c.concat(f)},[]);return a},a.Pipeline.prototype.runString=function(b){var c=new a.Token(b);return this.run([c]).map(function(a){return a.toString()})},a.Pipeline.prototype.reset=function(){this._stack=[]},a.Pipeline.prototype.toJSON=function(){return this._stack.map(function(b){return a.Pipeline.warnIfFunctionNotRegistered(b),b.label})},a.Vector=function(a){this._magnitude=0,this.elements=a||[]},a.Vector.prototype.positionForIndex=function(a){var b=Math.floor;if(0==this.elements.length)return 0;for(var c=0,d=this.elements.length/2,e=d-c,f=b(e/2),g=this.elements[2*f];1<e&&(g<a&&(c=f),g>a&&(d=f),g!=a);)e=d-c,f=c+b(e/2),g=this.elements[2*f];return g==a?2*f:g>a?2*f:g<a?2*(f+1):void 0},a.Vector.prototype.insert=function(a,b){this.upsert(a,b,function(){throw"duplicate index"})},a.Vector.prototype.upsert=function(a,b,c){this._magnitude=0;var d=this.positionForIndex(a);this.elements[d]==a?this.elements[d+1]=c(this.elements[d+1],b):this.elements.splice(d,0,a,b)},a.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,b=0,c=this.elements.length,d=1;d<c;d+=2)a=this.elements[d],b+=a*a;return this._magnitude=Math.sqrt(b)},a.Vector.prototype.dot=function(c){for(var d=0,e=this.elements,a=c.elements,b=e.length,f=a.length,g=0,h=0,k=0,l=0;k<b&&l<f;)g=e[k],h=a[l],g<h?k+=2:g>h?l+=2:g==h&&(d+=e[k+1]*a[l+1],k+=2,l+=2);return d},a.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},a.Vector.prototype.toArray=function(){for(var a=Array(this.elements.length/2),b=1,c=0;b<this.elements.length;b+=2,c++)a[c]=this.elements[b];return a},a.Vector.prototype.toJSON=function(){return this.elements},a.stemmer=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},b={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,d=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e=/.$/,f=function(f){var g,h,i,j,k,l,m;if(3>f.length)return f;if(i=f.substr(0,1),"y"==i&&(f=i.toUpperCase()+f.substr(1)),j=/^(.+?)(ss|i)es$/,k=/^(.+?)([^s])s$/,j.test(f)?f=f.replace(j,"$1$2"):k.test(f)&&(f=f.replace(k,"$1$2")),j=/^(.+?)eed$/,k=/^(.+?)(ed|ing)$/,j.test(f)){var n=j.exec(f);j=c,j.test(n[1])&&(j=e,f=f.replace(j,""))}else if(k.test(f)){var n=k.exec(f);g=n[1],k=/^([^aeiou][^aeiouy]*)?[aeiouy]/,k.test(g)&&(f=g,k=/(at|bl|iz)$/,l=/([^aeiouylsz])\1$/,m=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,k.test(f)?f+="e":l.test(f)?(j=e,f=f.replace(j,"")):m.test(f)&&(f+="e"))}if(j=/^(.+?[^aeiou])y$/,j.test(f)){var n=j.exec(f);g=n[1],f=g+"i"}if(j=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,j.test(f)){var n=j.exec(f);g=n[1],h=n[2],j=c,j.test(g)&&(f=g+a[h])}if(j=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,j.test(f)){var n=j.exec(f);g=n[1],h=n[2],j=c,j.test(g)&&(f=g+b[h])}if(j=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,k=/^(.+?)(s|t)(ion)$/,j.test(f)){var n=j.exec(f);g=n[1],j=d,j.test(g)&&(f=g)}else if(k.test(f)){var n=k.exec(f);g=n[1]+n[2],k=d,k.test(g)&&(f=g)}if(j=/^(.+?)e$/,j.test(f)){var n=j.exec(f);g=n[1],j=d,k=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,l=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,(j.test(g)||k.test(g)&&!l.test(g))&&(f=g)}return j=/ll$/,k=d,j.test(f)&&k.test(f)&&(j=e,f=f.replace(j,"")),"y"==i&&(f=i.toLowerCase()+f.substr(1)),f};return function(a){return a.update(f)}}(),a.Pipeline.registerFunction(a.stemmer,"stemmer"),a.generateStopWordFilter=function(a){var b=a.reduce(function(a,b){return a[b]=b,a},{});return function(a){if(a&&b[a.toString()]!==a.toString())return a}},a.stopWordFilter=a.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),a.Pipeline.registerFunction(a.stopWordFilter,"stopWordFilter"),a.trimmer=function(a){return a.update(function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")})},a.Pipeline.registerFunction(a.trimmer,"trimmer"),a.TokenSet=function(){this.final=!1,this.edges={},this.id=a.TokenSet._nextId,a.TokenSet._nextId+=1},a.TokenSet._nextId=1,a.TokenSet.fromArray=function(b){for(var c=new a.TokenSet.Builder,d=0,e=b.length;d<e;d++)c.insert(b[d]);return c.finish(),c.root},a.TokenSet.fromClause=function(b){return"editDistance"in b?a.TokenSet.fromFuzzyString(b.term,b.editDistance):a.TokenSet.fromString(b.term)},a.TokenSet.fromFuzzyString=function(b,c){for(var d,e=new a.TokenSet,f=[{node:e,editsRemaining:c,str:b}];f.length;){if(d=f.pop(),0<d.str.length){var g,h=d.str.charAt(0);h in d.node.edges?g=d.node.edges[h]:(g=new a.TokenSet,d.node.edges[h]=g),1==d.str.length?g.final=!0:f.push({node:g,editsRemaining:d.editsRemaining,str:d.str.slice(1)})}if(0<d.editsRemaining&&1<d.str.length){var i,h=d.str.charAt(1);h in d.node.edges?i=d.node.edges[h]:(i=new a.TokenSet,d.node.edges[h]=i),2>=d.str.length?i.final=!0:f.push({node:i,editsRemaining:d.editsRemaining-1,str:d.str.slice(2)})}if(0<d.editsRemaining&&1==d.str.length&&(d.node.final=!0),0<d.editsRemaining&&1<=d.str.length){if("*"in d.node.edges)var j=d.node.edges["*"];else{var j=new a.TokenSet;d.node.edges["*"]=j}1==d.str.length?j.final=!0:f.push({node:j,editsRemaining:d.editsRemaining-1,str:d.str.slice(1)})}if(0<d.editsRemaining){if("*"in d.node.edges)var k=d.node.edges["*"];else{var k=new a.TokenSet;d.node.edges["*"]=k}0==d.str.length?k.final=!0:f.push({node:k,editsRemaining:d.editsRemaining-1,str:d.str})}if(0<d.editsRemaining&&1<d.str.length){var l,m=d.str.charAt(0),n=d.str.charAt(1);n in d.node.edges?l=d.node.edges[n]:(l=new a.TokenSet,d.node.edges[n]=l),1==d.str.length?l.final=!0:f.push({node:l,editsRemaining:d.editsRemaining-1,str:m+d.str.slice(2)})}}return e},a.TokenSet.fromString=function(b){for(var c=new a.TokenSet,d=c,e=!1,f=0,g=b.length;f<g;f++){var h=b[f],j=f==g-1;if("*"==h)e=!0,c.edges[h]=c,c.final=j;else{var k=new a.TokenSet;k.final=j,c.edges[h]=k,c=k,e&&(c.edges["*"]=d)}}return d},a.TokenSet.prototype.toArray=function(){for(var a=[],b=[{prefix:"",node:this}];b.length;){var c=b.pop(),d=Object.keys(c.node.edges),e=d.length;c.node.final&&a.push(c.prefix);for(var f,g=0;g<e;g++)f=d[g],b.push({prefix:c.prefix.concat(f),node:c.node.edges[f]})}return a},a.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var a=this.final?"1":"0",b=Object.keys(this.edges).sort(),c=b.length,d=0;d<c;d++){var e=b[d],f=this.edges[e];a=a+e+f.id}return a},a.TokenSet.prototype.intersect=function(c){for(var b=new a.TokenSet,d=void 0,e=[{qNode:c,output:b,node:this}];e.length;){d=e.pop();for(var f,g=Object.keys(d.qNode.edges),h=g.length,i=Object.keys(d.node.edges),j=i.length,k=0;k<h;k++){f=g[k];for(var l,m=0;m<j;m++)if(l=i[m],l==f||"*"==f){var o=d.node.edges[l],p=d.qNode.edges[f],r=o.final&&p.final,s=void 0;l in d.output.edges?(s=d.output.edges[l],s.final=s.final||r):(s=new a.TokenSet,s.final=r,d.output.edges[l]=s),e.push({qNode:p,output:s,node:o})}}}return b},a.TokenSet.Builder=function(){this.previousWord="",this.root=new a.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},a.TokenSet.Builder.prototype.insert=function(b){var c,d=0;if(b<this.previousWord)throw new Error("Out of order word insertion");for(var e=0;e<b.length&&e<this.previousWord.length&&!(b[e]!=this.previousWord[e]);e++)d++;this.minimize(d),c=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var e=d;e<b.length;e++){var f=new a.TokenSet,g=b[e];c.edges[g]=f,this.uncheckedNodes.push({parent:c,char:g,child:f}),c=f}c.final=!0,this.previousWord=b},a.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},a.TokenSet.Builder.prototype.minimize=function(a){for(var b=this.uncheckedNodes.length-1;b>=a;b--){var c=this.uncheckedNodes[b],d=c.child.toString();d in this.minimizedNodes?c.parent.edges[c.char]=this.minimizedNodes[d]:(c.child._str=d,this.minimizedNodes[d]=c.child),this.uncheckedNodes.pop()}},a.Index=function(a){this.invertedIndex=a.invertedIndex,this.fieldVectors=a.fieldVectors,this.tokenSet=a.tokenSet,this.fields=a.fields,this.pipeline=a.pipeline},a.Index.prototype.search=function(b){return this.query(function(c){var d=new a.QueryParser(b,c);d.parse()})},a.Index.prototype.query=function(b){var c=new a.Query(this.fields),d=Object.create(null),e=Object.create(null);b.call(c,c);for(var f=0;f<c.clauses.length;f++){var g=c.clauses[f],h=null;h=g.usePipeline?this.pipeline.runString(g.term):[g.term];for(var n,o=0;o<h.length;o++){n=h[o],g.term=n;for(var p=a.TokenSet.fromClause(g),q=this.tokenSet.intersect(p).toArray(),r=0;r<q.length;r++){var s=q[r],t=this.invertedIndex[s];if(t)for(var u=t._index,v=0;v<g.fields.length;v++){var w=g.fields[v],x=t[w],y=Object.keys(x);w in e||(e[w]=new a.Vector),e[w].upsert(u,1*g.boost,function(c,a){return c+a});for(var z=0;z<y.length;z++){var A,B,C=y[z],D=new a.FieldRef(C,w);A=x[C],B=new a.MatchData(s,w,A),D in d?d[D].combine(B):d[D]=B}}}}}for(var E=Object.keys(d),F={},f=0;f<E.length;f++){var G=a.FieldRef.fromString(E[f]),H=G.docRef,I=this.fieldVectors[G],J=e[G.fieldName].similarity(I);H in F?(F[H].score+=J,F[H].matchData.combine(d[G])):F[H]={ref:H,score:J,matchData:d[G]}}return Object.keys(F).map(function(a){return F[a]}).sort(function(c,a){return a.score-c.score})},a.Index.prototype.toJSON=function(){var b=Object.keys(this.invertedIndex).sort().map(function(a){return[a,this.invertedIndex[a]]},this),c=Object.keys(this.fieldVectors).map(function(a){return[a,this.fieldVectors[a].toJSON()]},this);return{version:a.version,fields:this.fields,fieldVectors:c,invertedIndex:b,pipeline:this.pipeline.toJSON()}},a.Index.load=function(b){var c={},d={},e=b.fieldVectors,f={},g=b.invertedIndex,h=new a.TokenSet.Builder,j=a.Pipeline.load(b.pipeline);b.version!=a.version&&a.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+a.version+"' does not match serialized index '"+b.version+"'");for(var k=0;k<e.length;k++){var l=e[k],m=l[0],n=l[1];d[m]=new a.Vector(n)}for(var k=0;k<g.length;k++){var l=g[k],o=l[0],p=l[1];h.insert(o),f[o]=p}return h.finish(),c.fields=b.fields,c.fieldVectors=d,c.invertedIndex=f,c.tokenSet=h.root,c.pipeline=j,new a.Index(c)},a.Builder=function(){this._ref="id",this._fields=[],this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=a.tokenizer,this.pipeline=new a.Pipeline,this.searchPipeline=new a.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},a.Builder.prototype.ref=function(a){this._ref=a},a.Builder.prototype.field=function(a){this._fields.push(a)},a.Builder.prototype.b=function(a){this._b=0>a?0:1<a?1:a},a.Builder.prototype.k1=function(a){this._k1=a},a.Builder.prototype.add=function(b){var c=b[this._ref];this.documentCount+=1;for(var d=0;d<this._fields.length;d++){var e=this._fields[d],f=b[e],g=this.tokenizer(f),h=this.pipeline.run(g),m=new a.FieldRef(c,e),n={};this.fieldTermFrequencies[m]=n,this.fieldLengths[m]=0,this.fieldLengths[m]+=h.length;for(var o,p=0;p<h.length;p++){if(o=h[p],null==n[o]&&(n[o]=0),n[o]+=1,null==this.invertedIndex[o]){var q=Object.create(null);q._index=this.termIndex,this.termIndex+=1;for(var r=0;r<this._fields.length;r++)q[this._fields[r]]=Object.create(null);this.invertedIndex[o]=q}null==this.invertedIndex[o][e][c]&&(this.invertedIndex[o][e][c]=Object.create(null));for(var s=0;s<this.metadataWhitelist.length;s++){var t=this.metadataWhitelist[s],u=o.metadata[t];null==this.invertedIndex[o][e][c][t]&&(this.invertedIndex[o][e][c][t]=[]),this.invertedIndex[o][e][c][t].push(u)}}}},a.Builder.prototype.calculateAverageFieldLengths=function(){for(var b=Object.keys(this.fieldLengths),c=b.length,d={},e={},f=0;f<c;f++){var g=a.FieldRef.fromString(b[f]),h=g.fieldName;e[h]||(e[h]=0),e[h]+=1,d[h]||(d[h]=0),d[h]+=this.fieldLengths[g]}for(var h,f=0;f<this._fields.length;f++)h=this._fields[f],d[h]/=e[h];this.averageFieldLength=d},a.Builder.prototype.createFieldVectors=function(){for(var b={},c=Object.keys(this.fieldTermFrequencies),d=c.length,e=0;e<d;e++){for(var f=a.FieldRef.fromString(c[e]),g=f.fieldName,h=this.fieldLengths[f],k=new a.Vector,l=this.fieldTermFrequencies[f],m=Object.keys(l),n=m.length,o=0;o<n;o++){var p=m[o],q=l[p],r=this.invertedIndex[p]._index,s=a.idf(this.invertedIndex[p],this.documentCount),t=s*((this._k1+1)*q)/(this._k1*(1-this._b+this._b*(h/this.averageFieldLength[g]))+q),u=Math.round(1e3*t)/1e3;k.insert(r,u)}b[f]=k}this.fieldVectors=b},a.Builder.prototype.createTokenSet=function(){this.tokenSet=a.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},a.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new a.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:this._fields,pipeline:this.searchPipeline})},a.Builder.prototype.use=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(this),a.apply(this,b)},a.MatchData=function(a,b,c){this.metadata={},this.metadata[a]={},this.metadata[a][b]=c},a.MatchData.prototype.combine=function(a){for(var b=Object.keys(a.metadata),c=0;c<b.length;c++){var d=b[c],e=Object.keys(a.metadata[d]);this.metadata[d]==null&&(this.metadata[d]={});for(var f=0;f<e.length;f++){var g=e[f],h=Object.keys(a.metadata[d][g]);this.metadata[d][g]==null&&(this.metadata[d][g]={});for(var l,m=0;m<h.length;m++)l=h[m],this.metadata[d][g][l]=null==this.metadata[d][g][l]?a.metadata[d][g][l]:this.metadata[d][g][l].concat(a.metadata[d][g][l])}}},a.Query=function(a){this.clauses=[],this.allFields=a},a.Query.wildcard=new String("*"),a.Query.wildcard.NONE=0,a.Query.wildcard.LEADING=1,a.Query.wildcard.TRAILING=2,a.Query.prototype.clause=function(b){return"fields"in b||(b.fields=this.allFields),"boost"in b||(b.boost=1),"usePipeline"in b||(b.usePipeline=!0),"wildcard"in b||(b.wildcard=a.Query.wildcard.NONE),b.wildcard&a.Query.wildcard.LEADING&&b.term.charAt(0)!=a.Query.wildcard&&(b.term="*"+b.term),b.wildcard&a.Query.wildcard.TRAILING&&b.term.slice(-1)!=a.Query.wildcard&&(b.term=""+b.term+"*"),this.clauses.push(b),this},a.Query.prototype.term=function(a,b){var c=b||{};return c.term=a,this.clause(c),this},a.QueryParseError=function(a,b,c){this.name="QueryParseError",this.message=a,this.start=b,this.end=c},a.QueryParseError.prototype=new Error,a.QueryLexer=function(a){this.lexemes=[],this.str=a,this.length=a.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},a.QueryLexer.prototype.run=function(){for(var b=a.QueryLexer.lexText;b;)b=b(this)},a.QueryLexer.prototype.sliceString=function(){for(var a=[],b=this.start,c=this.pos,d=0;d<this.escapeCharPositions.length;d++)c=this.escapeCharPositions[d],a.push(this.str.slice(b,c)),b=c+1;return a.push(this.str.slice(b,this.pos)),this.escapeCharPositions.length=0,a.join("")},a.QueryLexer.prototype.emit=function(a){this.lexemes.push({type:a,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},a.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},a.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return a.QueryLexer.EOS;var b=this.str.charAt(this.pos);return this.pos+=1,b},a.QueryLexer.prototype.width=function(){return this.pos-this.start},a.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},a.QueryLexer.prototype.backup=function(){this.pos-=1},a.QueryLexer.prototype.acceptDigitRun=function(){var b,c;do b=this.next(),c=b.charCodeAt(0);while(47<c&&58>c);b!=a.QueryLexer.EOS&&this.backup()},a.QueryLexer.prototype.more=function(){return this.pos<this.length},a.QueryLexer.EOS="EOS",a.QueryLexer.FIELD="FIELD",a.QueryLexer.TERM="TERM",a.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",a.QueryLexer.BOOST="BOOST",a.QueryLexer.lexField=function(b){return b.backup(),b.emit(a.QueryLexer.FIELD),b.ignore(),a.QueryLexer.lexText},a.QueryLexer.lexTerm=function(b){if(1<b.width()&&(b.backup(),b.emit(a.QueryLexer.TERM)),b.ignore(),b.more())return a.QueryLexer.lexText},a.QueryLexer.lexEditDistance=function(b){return b.ignore(),b.acceptDigitRun(),b.emit(a.QueryLexer.EDIT_DISTANCE),a.QueryLexer.lexText},a.QueryLexer.lexBoost=function(b){return b.ignore(),b.acceptDigitRun(),b.emit(a.QueryLexer.BOOST),a.QueryLexer.lexText},a.QueryLexer.lexEOS=function(b){0<b.width()&&b.emit(a.QueryLexer.TERM)},a.QueryLexer.termSeparator=a.tokenizer.separator,a.QueryLexer.lexText=function(b){for(;;){var c=b.next();if(c==a.QueryLexer.EOS)return a.QueryLexer.lexEOS;if(92==c.charCodeAt(0)){b.escapeCharacter();continue}if(":"==c)return a.QueryLexer.lexField;if("~"==c)return b.backup(),0<b.width()&&b.emit(a.QueryLexer.TERM),a.QueryLexer.lexEditDistance;if("^"==c)return b.backup(),0<b.width()&&b.emit(a.QueryLexer.TERM),a.QueryLexer.lexBoost;if(c.match(a.QueryLexer.termSeparator))return a.QueryLexer.lexTerm}},a.QueryParser=function(b,c){this.lexer=new a.QueryLexer(b),this.query=c,this.currentClause={},this.lexemeIdx=0},a.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var b=a.QueryParser.parseFieldOrTerm;b;)b=b(this);return this.query},a.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},a.QueryParser.prototype.consumeLexeme=function(){var a=this.peekLexeme();return this.lexemeIdx+=1,a},a.QueryParser.prototype.nextClause=function(){var a=this.currentClause;this.query.clause(a),this.currentClause={}},a.QueryParser.parseFieldOrTerm=function(b){var c=b.peekLexeme();if(null!=c)switch(c.type){case a.QueryLexer.FIELD:return a.QueryParser.parseField;case a.QueryLexer.TERM:return a.QueryParser.parseTerm;default:var d="expected either a field or a term, found "+c.type;throw 1<=c.str.length&&(d+=" with value '"+c.str+"'"),new a.QueryParseError(d,c.start,c.end);}},a.QueryParser.parseField=function(b){var c=b.consumeLexeme();if(null!=c){if(-1==b.query.allFields.indexOf(c.str)){var d=b.query.allFields.map(function(a){return"'"+a+"'"}).join(", "),e="unrecognised field '"+c.str+"', possible fields: "+d;throw new a.QueryParseError(e,c.start,c.end)}b.currentClause.fields=[c.str];var f=b.peekLexeme();if(null==f){var e="expecting term, found nothing";throw new a.QueryParseError(e,c.start,c.end)}switch(f.type){case a.QueryLexer.TERM:return a.QueryParser.parseTerm;default:var e="expecting term, found '"+f.type+"'";throw new a.QueryParseError(e,f.start,f.end);}}},a.QueryParser.parseTerm=function(b){var c=b.consumeLexeme();if(null!=c){b.currentClause.term=c.str.toLowerCase(),-1!=c.str.indexOf("*")&&(b.currentClause.usePipeline=!1);var d=b.peekLexeme();if(null==d)return void b.nextClause();switch(d.type){case a.QueryLexer.TERM:return b.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return b.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;default:var e="Unexpected lexeme type '"+d.type+"'";throw new a.QueryParseError(e,d.start,d.end);}}},a.QueryParser.parseEditDistance=function(b){var c=b.consumeLexeme();if(null!=c){var d=parseInt(c.str,10);if(isNaN(d)){var e="edit distance must be numeric";throw new a.QueryParseError(e,c.start,c.end)}b.currentClause.editDistance=d;var f=b.peekLexeme();if(null==f)return void b.nextClause();switch(f.type){case a.QueryLexer.TERM:return b.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return b.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;default:var e="Unexpected lexeme type '"+f.type+"'";throw new a.QueryParseError(e,f.start,f.end);}}},a.QueryParser.parseBoost=function(b){var c=b.consumeLexeme();if(null!=c){var d=parseInt(c.str,10);if(isNaN(d)){var e="boost must be numeric";throw new a.QueryParseError(e,c.start,c.end)}b.currentClause.boost=d;var f=b.peekLexeme();if(null==f)return void b.nextClause();switch(f.type){case a.QueryLexer.TERM:return b.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return b.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;default:var e="Unexpected lexeme type '"+f.type+"'";throw new a.QueryParseError(e,f.start,f.end);}}},function(a,b){"function"==typeof define&&define.amd?define("lunr",b):"object"==typeof exports?module.exports=b():a.lunr=b()}(this,function(){return a})})(),define("static/search-logic",["require","exports","module","lunr"],function(a,b,c){var d,e=a("lunr");c.exports={indexData:function(a){return d=e(function(){e.tokenizer.separator=/[\s]+/,this.pipeline.remove(e.stemmer),this.pipeline.remove(e.stopWordFilter),this.pipeline.remove(e.trimmer),this.searchPipeline.remove(e.stemmer),this.ref("name"),this.field("title"),this.field("concatenatedName"),this.field("description"),this.field("isPackage"),this.field("name"),this.field("url"),a.forEach(function(a){a.title||(a.title=a.name),a.concatenatedName=a.name.replace("can-","").replace(/-/g,"").replace(/\//g,""),a.isPackage=(void 0!==a.collection).toString(),this.add(a)}.bind(this))}),d},loadIndex:function(a){return e.Index.load(a)},search:function(a){var b=a.toLowerCase();return /^#[a-z]/.test(b)&&(b=a.substr(1,a.length)),d.query(function(a){-1<b.indexOf("can-")?a.term(b,{boost:375}):(a.term("can-"+b,{boost:12}),a.term(b,{wildcard:e.Query.wildcard.LEADING|e.Query.wildcard.TRAILING}),a.term(b,{fields:["title"],wildcard:e.Query.wildcard.LEADING|e.Query.wildcard.TRAILING}),a.term(b,{fields:["concatenatedName"],wildcard:e.Query.wildcard.TRAILING}),a.term("true",{boost:6,fields:["isPackage"]}));var c=b.split(e.tokenizer.separator);c.forEach(function(b){a.term(b,{boost:10,fields:a.allFields}),a.term(b,{fields:a.allFields,wildcard:e.Query.wildcard.TRAILING})})})}}}),define("static/search-worker",["require","exports","module","static/search-logic"],function(a){var b=a("static/search-logic");self.addEventListener("message",function(a){var c=a.data;switch(c.name){case"index data":self.postMessage({name:"search engine ready",searchEngine:b.indexData(c.items)});break;case"load index":self.postMessage({name:"search engine ready",searchEngine:b(c.index)});break;case"search":self.postMessage({name:"search results",results:b.search(c.query),query:c.query});break;default:console.info("Worker received message:",a);}},!1)}),!function(a){a._define=a.define,a.define=a.define.orig}("object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window);