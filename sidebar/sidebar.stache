{{<listTemplate}}
  {{#if ./children.length}}
    <ul>
      {{#each ./children child=value}}
        {{^if child.hide}}
          {{#if child.isGroup}}
            <li>
              <span>{{child.shortTitle}}</span>
              {{>*self}}
            </li>
          {{else}}
            <li class="
              {{#eq child selectedModule}}current{{/eq}}
              {{#if shouldShowChildren(child)}}expanded{{/if}}
              {{#if child.children.length}}parent{{/if}}
            ">
              <a {{data "moduleData"}}
                class="{{child.type}}"
                href="{{child.url}}"
                title="{{child.linkTitle}}"
              >
                {{child.shortTitle}}
              </a>
              {{#if shouldShowChildren(child)}}
                {{>listTemplate child}}
              {{/if}}
            </li>
          {{/if}}
        {{/if}}
      {{/each}}
    </ul>
  {{/if}}
{{/listTemplate}}

{{>listTemplate rootModule}}
